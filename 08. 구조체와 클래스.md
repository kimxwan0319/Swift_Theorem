# 구조체와 클래스

개념적으로 구조체와 클래스는 하나의 큰 코드 블록이다.

이 안에 변수나 상수를 넣어 값을 저장할 수도, 함수를 넣어 기능을 정의할 수도 있다.

다른 종류의 객체에 의존하지 않고 자체적으로  값을 저장하거나 함수적인 기능을 구현할 수 있다.

구조체나 클래스내에서 정의된 변수와 상수, 함수는 특별한 성격을 가지게 되며, 부르는 명칭이 달라진다.

* 변수나 상수 : **프로퍼티(Properties)**
* 함수 : **메소드(Method)**

이런 프로퍼티와 메소드를 합해서 구조체나 클래스의 **멤버(Member)**라고 표현한다.



## 구조체 VS 클래스

구조체와 클래스는 여러가지 면에서 유사한 성격을 띈다.

다음은 이들의 공통점이다.

* **프로퍼티**                변수나 상수를 사용하여 값을 저장하는 프로퍼티를 정의할 수 있다.
* **메소드**                   함수를 사용하여 기능을 제공하는 메소드를 정의할 수 있다.
* **서브스크립트**          속성값에 접근할 수 있는 방법을 제공하는 서브스크립트를 정의할 수 있다.
* **초기화 블록**            객체를 원하는 초기 상태로 설정해주는 초기화 블록을 정의할 수 있다. 
* **확장**                      객체에 함수적 기능을 추가하는 확장(extends) 구문을 사용할 수 있다.
* **프로토콜**                특정 형식의 함수적 표준을 제공하기 위한 프로토콜을 구현할 수 있다.



클래스의 기능범위는 구조체보다 크다.

다음은 구조체는 할 수 없지만, 클래스는 할 수 있는 기능들이다.

* **상속**                      클래스의 특성을 다른 클래스에게 물려줄 수 있다.
* **타입 캐스팅**           실행 시 컴파일러가 클래스 인스턴스의 타입을 미리 파악하고 검사할 수 있다.
* **소멸화 구문**           인스턴스가 소멸되기 직전에 처리해야 할 구문을 미리 등록해 놓을 수 있다.
* **참조의 의한 전달**    클래스 인스턴스가 전달될 때에는 참조 형식으로 제공되며, 이때 참조가 가능한 개수는 제약이 없다.



## 구조체와 클래스의 기본 개념

* **정의 구문**

  구조체와 클래스는 정의하는 구문 형식이 매우 비슷하다.

  구조체는 ``struct`` 키워드를, 클래스는 ``class`` 키워드를 사용하여 정의한다.

  * 구조체의 정의 형식

    ```swift
    struct 구조체_이름 {
      // 구조체 정의 내용
    }
    ```

  * 클래스의 정의 형식

    ```swift
    class 클래스_이름 {
      // 클래스 정의 내용
    }
    ```

  구조체와 클래스의 이름은 **파스칼 표기법**에 따른다.

* **메소드와 프로퍼티**

  구조체나 클래스 내부에서 정의된 변수나 상수를 **프로퍼티**, 함수는 **메소드** 라고 한다.

   일반 변수/상수/함수를 정의하는 것과 문법적으로 동일한다.

  ```swift
  struct AnyStruct {
    var x = 0
    var y = 0
    
    func anyFunc() -> String {
      return "AnyStruct 구조체"
    }
  }
  
  class AnyClass {
    var z : Int?
    var anyStruct = AnyStruct() // 밑에서 설명할 인스턴스이다.
    
    func anyFunc() -> String {
      return "AnyClass 클래스"
    }
  }
  ```

  위처럼 구조체나 클래스에 프로퍼티와 메소드를 정의할 수 있다.

  ``var y : Int?`` 같은 옵셔널 프로퍼티에 초기값이 할당되지 않았을땐 **자동으로 nil값으로 초기화** 된다.

* **인스턴스**

  구조체나 클래스는  실행할 수 있는 객체를 만들어주는 일종의 **틀**이다.

  우리는 이 틀으로서의 구조체나 클래스를 정의하지만. 여기에 직접 값을 담을수는 없다.

  이 틀로 만든 객체를 **인스턴스**라고 한다.

  인스턴스에는 실질적인 값을 담을 수 있다.

  클래스나 구조체 이름뒤에 빈 괄호를 붙여 각각의 인스턴스를 생성할 수 있다.

  ```swift
  let someStruct = AnyStruct()
  let someClass = AnyClass()
  ```

* **프로퍼티 접근**

  프로퍼티에 접근하려면 반드시 인스턴스를 먼저 생성해야한다.

  **점( . ) 문법**을 이용하여 인스턴스의 프로퍼티에 접근할 수 있다.

  ```swift
  let x = someStruct.x
  
  let y = someClass.anyStruct.y //하위레벨 프로퍼티 접근
  
  someClass.z = 10 //값 할당
  ```

  하위레벨 프로퍼티에 접근한것처럼 단계적으로 점 구문을 연결하는것을 **체인**이라고 한다.

* **구조체의 멤버 초기화**

  구조체는 모든 프로퍼티의 값을 인자값으로 입력받아 초기화하는 기본 초기화 구문을 제공한다.
  
  이를 **멤버와이즈 초기화 구문**이라고도 부른다.
  
  ```swift
  let someStruct = AnyStruct(x = 30, y = 40)
  ```

